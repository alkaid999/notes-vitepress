# 发展经历

> Linux 官网介绍：[https://www.linux.com/what-is-linux/](https://www.linux.com/what-is-linux/)
>
> 维基百科：[https://zh.wikipedia.org/wiki/Unix](https://zh.wikipedia.org/wiki/Unix)

Linux，全称 GNU/Linux，**是一种免费使用和自由传播的类 Unix 操作系统**，其内核由林纳斯·本纳第克特·托瓦兹于 1991 年 10 月 5 日首次发布，它主要受到 Minix 和 Unix 思想的启发，是一个基于 POSIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。

它能运行主要的 Unix 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。Linux 继承了 Unix 以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。Linux 有上百种不同的发行版，如基于社区开发的 debian、archlinux，和基于商业开发的 Red Hat Enterprise Linux、SUSE、Oracle Linux 等。

Linux 操作系统的诞生、发展和成长过程始终依赖着五个重要支柱：Unix 操作系统、MINIX 操作系统、GNU 计划、POSIX 标准和 Internet 网络。

> [!TIP] GUN 是什么？
> GNU 是「GNU's Not Unix」的缩写，GNU 项目计划最早是与 1984 年，由著名的美国黑客理查德·斯托曼（Richard Matthew Stallman）发起的，GNU 获得了自由软件基金会（FSF）的资金支持一直是 GNU 的主要资金来源，该项目主要是为了建立免费的开源的 Unix 类系统，其基本原则是程序源代码开放和软件思想共享。

---

> [!TIP]  POSIX 标准是什么？
> POSIX 标准是 IEEE 为要在各种 Unix 操作系统上运行软件，而定义 API 的一系列互相关联的标准的总称，其正式称呼为 IEEE Std 1003，而国际标准名称为 ISO/IEC 9945。此标准源于一个大约开始于 1985 年的项目。POSIX 这个名称是由理查德·斯托曼（RMS）应 IEEE 的要求而提议的一个易于记忆的名称。它基本上是 Portable Operating System Interface（可移植操作系统接口）的缩写，而 X 则表明其对 Unix API 的传承。

## Unix

Unix 最初受到 Multics 计划的启发。Multics 是由麻省理工学院、通用电气和 AT&T 底下的贝尔实验室合作进行的操作系统项目，被设计运行在 GE-645 大型主机上。但是由于整个目标过于庞大，糅合了太多的特性，Multics 虽然发布了一些产品，但是性能都很低，AT&T 最终撤出了投入 Multics 项目的资源，退出这项合作计划。

贝尔实验室最初参与 Multics 计划的部门为计算器技术研发部门，为了 Multics 计划，部门又召募了**肯·汤普逊**加入其中。肯·汤普逊进入 Multics 计划不久，计划就中止了，但因为机器仍然保留在贝尔实验室，他继续在 GE-645 上开发软件。肯·汤普逊在 GE-645 上，写出了一个仿真器，可以让一个文件系统与内存分页机制运作起来。他同时也写了一个程序语言 Bon，编写了一个太空旅行游戏。经过实际运行后，他发现游戏速度很慢而且耗费昂贵，每次运行会花费 75 美元。在 GE-645 被搬走后，肯·汤普逊在实验室中寻找没人使用的机器，找到了几台 PDP-7。在 **丹尼斯·里奇**的帮助下，汤普逊用 PDP-7 的汇编语言重写了这个游戏，并使其在 DEC PDP-7 上运行起来。这次经历加上 Multics 项目的经验，促使汤普逊开始在 DEC PDP-7 上研究如何开发操作系统。

1969 年，肯·汤普逊提议在 PDP-7 上开发一个新的阶层式操作系统的计划。Multics 的原有成员，都投入这个计划。肯·汤普逊发现要编写驱动程序来驱动文件系统，进行测试，并不容易，于是开发了一个壳层（shell）与一些驱动程序，做出一个操作系统的雏形。在团队合作下，Multics 的许多功能都被采纳，重新实现，最终做出了一个分时多任务操作系统，成为第一版 Unix。

因为 PDP-7 的性能不佳，肯·汤普逊与丹尼斯·里奇决定把第一版 Unix 移植到 PDP-11/20 的机器上，开发第二版 Unix。在性能提升后，真正可以提供多人同时使用，布莱恩·柯林汉提议将它的名称改为 Unix。

第一版 Unix 是用 PDP-7 汇编语言编写的，一些应用是由叫做 B 语言的解释型语言和汇编语言混合编写的。在进行系统编程时不够强大，所以汤普逊和里奇对其进行了改造，并于 1971 年共同发明了 C 语言。1973 年汤普逊和里奇用 C 语言重写了 Unix，形成第三版 Unix。在当时，为了实现最高效率，系统程序都是由汇编语言编写，所以汤普逊和里奇此举是极具大胆创新和革命意义的。用 C 语言编写的 Unix 代码简洁紧凑、易移植、易读、易修改，为此后 Unix 的发展奠定了坚实基础。

1974 年，汤普逊和里奇合作在 ACM 通信上发表了一篇关于 Unix 的文章，这是 Unix 第一次出现在贝尔实验室以外。此后 Unix 被政府机关，研究机构，企业和大学注意到，并逐渐流行开来。1975 年，Unix 发布了 4、5、6 三个版本。1978 年，已经有大约 600 台计算机在运行 Unix。1979 年，版本 7 发布，这是最后一个广泛发布的研究型 Unix 版本。20 世纪 80 年代相继发布的 8、9、10 版本只授权给了少数大学。

随着时间的推移，Unix 不断发展壮大，并衍生出许多不同版本和变种。例如，在 1978 年柏克利大学推出了一份以第六版为基础，加上一些改进和新功能而成的 Unix。这就是著名的「1 BSD（1st Berkeley Software Distribution）」，开创了 Unix 的另一个分支：BSD 系列。

后来 AT&T 意识到了 Unix 的商业价值，不再将 Unix 源码授权给学术机构，并对之前的 Unix 及其变种声明了版权权利。变种 BSD Unix 在 Unix 的历史发展中具有相当大的影响力，被很多商业厂家采用，成为很多商用 Unix 的基础。BSD 使用主版本加次版本的方法标识，如 4.2BSD，4.3BSD，在原始版本的基础上还有派生版本，这些版本通常有自己的名字，如 4.3BSD-Net/1，4.3BSD-Net/2 等。其不断增大的影响力终于引起了 AT&T 的关注，于是开始了一场旷日持久的版权官司，这场官司一直打到 AT&T 将自己的 Unix 系统实验室卖掉，新接手的 Novell 公司采取了一种比较开明的做法，允许柏克莱分校自由发布自己的 BSD，但是前提是必须将来自于 AT&T 的代码完全删除，于是诞生了 4.4 BSD Lite 版，由于这个版本不存在法律问题，4.4BSD Lite 成为了现代 BSD 系统的基础版本。尽管后来，非商业版的 Unix 系统又经过了很多演变，但其最终都是创建在 BSD 版本上（Linux 除外）。所以从这个角度上，4.4 BSD 又是所有自由版本 Unix 的基础，它们和 System V 及 Linux 等共同构成 Unix 操作系统这片璀璨的星空。

BSD 在发展中也逐渐派生出 3 个主要的分支：FreeBSD、OpenBSD 和 NetBSD。

此后的几十年中，Unix 仍在不断变化，其版权所有者不断变更，授权者的数量也在增加。Unix 的版权曾经为 AT&T 所有，之后 Novell 拥有了 Unix，再之后 Novell 又将版权出售给了 SCO，但不包括知识产权和专利权（这一事实双方尚存在争议）。有很多大公司在取得了 Unix 的授权之后，开发了自己的 Unix 产品，比如 IBM 的 AIX、HP 的 HP-UX 和 SUN 的 Solaris。

## Linux

时间来到了 80 年代，随着 AT&T 公司闭源 Unix 系统，在学校里给学生用的操作系统很，当时可供计算机选用的操作系统主要有 Unix、DOS 和 MacOS 这几种：

- Unix 价格昂贵，不能运行于 PC。
- DOS 显得简陋，且源代码被软件厂商严格保密。
- MacOS 是一种专门用于苹果计算机的操作系统。

此时，计算机科学领域迫切需要一个更加完善、强大、廉价和完全开放的操作系统。由于供教学使用的典型操作系统很少，因此当时在荷兰当教授的美国人安德鲁·斯图尔特·特南鲍姆编写了一个操作系统，名为 **MINIX**，为了向学生讲述操作系统内部工作原理。MINIX 虽然很好，但只是一个用于教学目的的简单操作系统，而不是一个强有力的实用操作系统，然而最大的好处就是**公开源代码**。

1991 年，林纳斯·托瓦兹在赫尔辛基大学上学时，对操作系统很好奇。他对 MINIX 只允许在教育上使用很不满（在当时 MINIX 不允许被用作任何商业使用），于是他便开始写他自己的操作系统，同时也为了方便读写和下载文件，他开始写属于自己的类 Unix 系统，最终开发出了 Linux 的第一个内核（0.02 版），并取名 Linus' Minix，后来改名为 Linux。这就是后来的 Linux 内核。

1991 年 10 月 Linus 在 Minix 新闻组发布消息，对外宣布 Linux 内核的诞生，并公开了内核源码；公开后 Linux 因为结构清晰、功能简洁，一经发布立即收受好评；后来在很多热心支持者的帮助下，经过多次版本升级迭代，终于在 1994 年 3 月，Linux1.0 正式发布。

> [!NOTE]
> Linux 只是一个系统内核，系统启动之后使用的仍然是 gcc 和 bash 等软件。Linus 在发布 Linux 的时候选择了 GPL，因此符合 GNU 的宗旨。

1983 年，理查德·马修·斯托曼创立 GNU 计划。这个计划有一个目标，是为了发展一个完全自由的类 Unix 操作系统。自 1984 年发起这个计划以来，在 1985 年，理查德·马修·斯托曼发起自由软件基金会并且在 1989 年撰写 GPL。1990 年代早期，GNU 开始大量地产生或收集各种系统所必备的组件，像是——库、编译器、调试工具、文本编辑器，以及一个 Unix 的用户界面（Unix shell）——但是像一些底层环境，如硬件驱动、守护进程、系统内核（kernel）仍然不完整和陷于停顿，GNU 计划中是在 Mach 微内核的架构之上开发系统内核，也就是所谓的 GNU Hurd，但是这个基于 Mach 的设计异常复杂，发展进度则相对缓慢。

尽管 GNU 计划开发了许多重要的软件，但它一直缺少一个关键部分：**操作系统内核**。原定的内核叫做 Hurd，但它一直未能完成。然而，在 1991 年，Linus Torvalds 开发了 Linux 内核，并选择了 GNU 通用公共许可证（GPL）作为其许可证。这使得 Linux 内核能够与 GNU 软件结合在一起，形成一个完整的自由操作系统。这个操作系统通常被称为 GNU/Linux。

## 区别和联系

Linux 是一个类似 Unix 的操作系统，所以也被称作 类 Unix 系统。Unix 要早于 Linux，Linux 的初衷就是要替代 Unix，并在功能和用户体验上进行优化，所以 Linux 模仿了 Unix（但并没有抄袭 Unix 的源码），使得 Linux 在外观和交互上与 Unix 非常类似。

Linux 和 Unix 之间有一些主要区别，包括：

| 区别     | Linux                                                                                                | Unix                                                                                |
| -------- | ---------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| 硬件支持 | Linux 可以运行在多种硬件平台上，包括 x86 的个人计算机。                                              | Linux 可以运行在多种硬件平台上，包括 x86 的个人计算机。                             |
| 源代码   | Linux 是开源的，这意味着它的源代码是公开的，可以被任何人查看和修改。                                 | Unix 系统通常是闭源的，这意味着它们的源代码是保密的，只有特定的人员才能查看和修改。 |
| 成本     | Linux 是免费的，可以从互联网上免费下载和使用。                                                       | Unix 系统通常需要付费使用。                                                         |
| 开发模式 | Linux 是由全球志愿者社区开发和维护的。                                                               | Unix 系统通常由商业公司开发和维护。                                                 |
| 目标用户 | Linux 既适用于个人用户，也适用于企业用户。它可以运行在桌面计算机、笔记本电脑、服务器和嵌入式设备上。 | Unix 系统通常主要面向企业用户，用于运行在大型服务器和工作站上。                     |
| 支持     | 由于 Linux 是开源的，它拥有庞大的社区支持。用户可以在互联网上找到大量的文档、教程和支持论坛。        | Unix 系统通常由商业公司提供支持，用户需要付费获得技术支持。                         |

![Unix 和 Linux 关系图](./images/01.svg)
